(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[223],{2934:function(e,t,r){Promise.resolve().then(r.bind(r,8054))},9205:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var a=r(2265);let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ")};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:u,...m}=e;return(0,a.createElement)("svg",{ref:t,...n,width:i,height:i,stroke:r,strokeWidth:o?24*Number(l)/Number(i):l,className:s("lucide",c),...m},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),o=(e,t)=>{let r=(0,a.forwardRef)((r,n)=>{let{className:o,...c}=r;return(0,a.createElement)(l,{ref:n,iconNode:t,className:s("lucide-".concat(i(e)),o),...c})});return r.displayName="".concat(e),r}},2660:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3581:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},1817:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9376:function(e,t,r){"use strict";var a=r(5475);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},8054:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var a=r(7437),i=r(2265),s=r(9376),n=r(5243),l=r(2593),o=r(2660),c=r(3581),d=r(1817);let u=(0,r(9205).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var m=r(7648),p=r(5526);function x(){let e=(0,s.useRouter)(),[t,r]=(0,i.useState)(!1),[x,h]=(0,i.useState)(null),[f,g]=(0,i.useState)(null),b=(0,i.useRef)(null),[v,y]=(0,i.useState)({title:"",price:"",description:"",condition:"Good"}),w=async t=>{if(t.preventDefault(),!v.title||!v.price||!x){alert("Please fill in all required fields and upload an image.");return}r(!0);try{let{data:{user:t}}=await p.O.auth.getUser();if(!t)throw Error("Not authenticated");let r=x.name.split(".").pop(),a="".concat(t.id,"-").concat(Math.random(),".").concat(r),{error:i}=await p.O.storage.from("post-images").upload(a,x);if(i)throw i;let{data:{publicUrl:s}}=p.O.storage.from("post-images").getPublicUrl(a),{error:n}=await p.O.from("market_items").insert({title:v.title,description:v.description,price:parseFloat(v.price),condition:v.condition,image_url:s,seller_id:t.id,status:"available"});if(n)throw n;e.push("/marketplace"),e.refresh()}catch(e){console.error("Error creating listing:",e),alert("Failed to create listing. Please try again.")}finally{r(!1)}};return(0,a.jsxs)("main",{className:"min-h-screen p-4 md:p-8 relative flex items-center justify-center",children:[(0,a.jsx)(n.default,{}),(0,a.jsxs)("div",{className:"w-full max-w-2xl relative z-10",children:[(0,a.jsxs)(m.default,{href:"/marketplace",className:"inline-flex items-center gap-2 text-text-secondary hover:text-white mb-6 transition-colors",children:[(0,a.jsx)(o.Z,{size:20}),(0,a.jsx)("span",{children:"Back to Marketplace"})]}),(0,a.jsxs)(l.default,{className:"p-6 md:p-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-text-main mb-6",children:"Sell an Item"}),(0,a.jsxs)("form",{onSubmit:w,className:"space-y-6",children:[(0,a.jsxs)("div",{onClick:()=>{var e;return null===(e=b.current)||void 0===e?void 0:e.click()},className:"w-full h-64 rounded-2xl border-2 border-dashed border-white/20 flex flex-col items-center justify-center cursor-pointer hover:bg-white/5 transition-colors group relative overflow-hidden",children:[f?(0,a.jsx)("img",{src:f,alt:"Preview",className:"w-full h-full object-cover"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"p-4 rounded-full bg-white/5 group-hover:bg-white/10 transition-colors mb-4",children:(0,a.jsx)(c.Z,{size:32,className:"text-text-secondary group-hover:text-primary transition-colors"})}),(0,a.jsx)("p",{className:"text-text-secondary font-medium",children:"Click to upload photo"}),(0,a.jsx)("p",{className:"text-text-muted text-sm mt-1",children:"JPG, PNG up to 5MB"})]}),(0,a.jsx)("input",{type:"file",ref:b,onChange:e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0];h(t),g(URL.createObjectURL(t))}},accept:"image/*",className:"hidden"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-text-secondary",children:"Title"}),(0,a.jsx)("input",{type:"text",value:v.title,onChange:e=>y({...v,title:e.target.value}),className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 focus:border-primary focus:ring-1 focus:ring-primary outline-none text-text-main transition-all",placeholder:"What are you selling?",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-text-secondary",children:"Price ($)"}),(0,a.jsx)("input",{type:"number",value:v.price,onChange:e=>y({...v,price:e.target.value}),className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 focus:border-primary focus:ring-1 focus:ring-primary outline-none text-text-main transition-all",placeholder:"0.00",min:"0",step:"0.01",required:!0})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-text-secondary",children:"Condition"}),(0,a.jsxs)("select",{value:v.condition,onChange:e=>y({...v,condition:e.target.value}),className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 focus:border-primary focus:ring-1 focus:ring-primary outline-none text-text-main transition-all appearance-none",children:[(0,a.jsx)("option",{value:"New",className:"bg-surface text-black",children:"New"}),(0,a.jsx)("option",{value:"Like New",className:"bg-surface text-black",children:"Like New"}),(0,a.jsx)("option",{value:"Good",className:"bg-surface text-black",children:"Good"}),(0,a.jsx)("option",{value:"Fair",className:"bg-surface text-black",children:"Fair"}),(0,a.jsx)("option",{value:"Poor",className:"bg-surface text-black",children:"Poor"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-text-secondary",children:"Description"}),(0,a.jsx)("textarea",{value:v.description,onChange:e=>y({...v,description:e.target.value}),className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 focus:border-primary focus:ring-1 focus:ring-primary outline-none text-text-main transition-all resize-none h-32",placeholder:"Describe your item...",required:!0})]}),(0,a.jsx)("button",{type:"submit",disabled:t,className:"w-full py-4 bg-primary text-white rounded-xl font-bold text-lg hover:bg-primary-hover transition-colors shadow-lg shadow-primary/20 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.Z,{size:20,className:"animate-spin"}),(0,a.jsx)("span",{children:"Listing Item..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u,{size:20}),(0,a.jsx)("span",{children:"List Item"})]})})]})]})]})]})}},5243:function(e,t,r){"use strict";r.d(t,{default:function(){return s}});var a=r(7437),i=r(521);function s(){return(0,a.jsxs)("div",{className:"fixed inset-0 -z-10 overflow-hidden pointer-events-none",children:[(0,a.jsx)(i.E.div,{animate:{x:[0,100,0],y:[0,-50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"easeInOut"},className:"absolute top-[-10%] left-[-10%] w-[50vw] h-[50vw] bg-primary/10 rounded-full blur-[100px]"}),(0,a.jsx)(i.E.div,{animate:{x:[0,-100,0],y:[0,100,0],scale:[1,1.5,1]},transition:{duration:25,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute top-[20%] right-[-10%] w-[40vw] h-[40vw] bg-secondary/10 rounded-full blur-[120px]"}),(0,a.jsx)(i.E.div,{animate:{x:[0,50,0],y:[0,50,0],scale:[1,1.1,1]},transition:{duration:15,repeat:1/0,ease:"easeInOut",delay:5},className:"absolute bottom-[-10%] left-[20%] w-[60vw] h-[60vw] bg-primary-light/20 rounded-full blur-[100px]"})]})}},2593:function(e,t,r){"use strict";r.d(t,{default:function(){return s}});var a=r(7437),i=r(521);function s(e){let{children:t,className:r,hoverEffect:s=!0,...n}=e;return(0,a.jsx)(i.E.div,{whileHover:s?{y:-5,scale:1.01}:{},transition:{type:"spring",stiffness:300,damping:20},className:"\n        relative overflow-hidden\n        bg-surface/70 backdrop-blur-md\n        border border-white/20\n        shadow-glass\n        rounded-2xl\n        ".concat(r||"","\n      "),...n,children:(0,a.jsx)("div",{className:"relative z-10",children:t})})}},5526:function(e,t,r){"use strict";r.d(t,{O:function(){return a}});let a=(0,r(2577).createBrowserClient)("https://agakkvodhqinapxsqfou.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFnYWtrdm9kaHFpbmFweHNxZm91Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ3ODU1NDYsImV4cCI6MjA4MDM2MTU0Nn0.n5bhFCiK8bOwsUnZyjsLwxE_kv0NV4DScT6tHFAAFH8")}},function(e){e.O(0,[521,577,648,971,117,744],function(){return e(e.s=2934)}),_N_E=e.O()}]);