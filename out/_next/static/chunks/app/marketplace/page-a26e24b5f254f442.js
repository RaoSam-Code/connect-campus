(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[240],{8669:function(e,t,s){Promise.resolve().then(s.bind(s,1832))},9205:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var r=s(2265);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&s.indexOf(e)===t).join(" ")};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,r.forwardRef)((e,t)=>{let{color:s="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:o="",children:d,iconNode:u,...m}=e;return(0,r.createElement)("svg",{ref:t,...l,width:a,height:a,stroke:s,strokeWidth:c?24*Number(i)/Number(a):i,className:n("lucide",o),...m},[...u.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(d)?d:[d]])}),c=(e,t)=>{let s=(0,r.forwardRef)((s,l)=>{let{className:c,...o}=s;return(0,r.createElement)(i,{ref:l,iconNode:t,className:n("lucide-".concat(a(e)),c),...o})});return s.displayName="".concat(e),s}},8997:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},3247:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},1832:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var r=s(7437),a=s(2265),n=s(5243),l=s(3930),i=s(2593),c=s(9205);let o=(0,c.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var d=s(3247);let u=(0,c.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var m=s(5526),x=s(1235),h=s(7648);function f(){let[e,t]=(0,a.useState)([]),[s,c]=(0,a.useState)(!0),[f,p]=(0,a.useState)("");(0,a.useEffect)(()=>{(async()=>{try{let{data:e,error:s}=await m.O.from("market_items").select("\n            *,\n            profiles (\n              full_name,\n              avatar_url\n            )\n          ").order("created_at",{ascending:!1});if(s)throw s;t(e||[])}catch(e){console.error("Error fetching listings:",e)}finally{c(!1)}})()},[]);let v=e.filter(e=>{var t;return e.title.toLowerCase().includes(f.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(f.toLowerCase()))});return(0,r.jsxs)("main",{className:"min-h-screen p-4 md:p-8 relative",children:[(0,r.jsx)(n.default,{}),(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-primary mb-2",children:"Marketplace"}),(0,r.jsx)("p",{className:"text-text-secondary",children:"Buy, sell, and trade with students."})]}),(0,r.jsxs)("div",{className:"flex gap-4 w-full md:w-auto",children:[(0,r.jsx)(h.default,{href:"/marketplace/create",children:(0,r.jsxs)("button",{className:"px-4 py-2 bg-primary text-white rounded-xl font-medium hover:bg-primary-hover transition-colors flex items-center gap-2 shadow-lg shadow-primary/20 h-full",children:[(0,r.jsx)(o,{size:20}),(0,r.jsx)("span",{className:"hidden md:inline",children:"Sell Item"})]})}),(0,r.jsxs)(i.default,{className:"p-2 flex items-center gap-2 flex-1 md:w-80",children:[(0,r.jsx)(d.Z,{className:"text-text-secondary ml-2",size:20}),(0,r.jsx)("input",{type:"text",value:f,onChange:e=>p(e.target.value),placeholder:"Search items...",className:"bg-transparent border-none outline-none text-text-main placeholder-text-muted flex-1 h-10"})]}),(0,r.jsx)(i.default,{className:"p-3 flex items-center justify-center cursor-pointer hover:bg-white/40 transition-colors w-12",children:(0,r.jsx)(u,{size:20,className:"text-text-secondary"})})]})]}),s?(0,r.jsx)("div",{className:"columns-2 md:columns-3 lg:columns-4 gap-6 space-y-6",children:[1,2,3,4,5,6].map(e=>(0,r.jsx)("div",{className:"break-inside-avoid mb-6",children:(0,r.jsxs)("div",{className:"rounded-2xl overflow-hidden bg-surface/70 backdrop-blur-md border border-white/20 shadow-glass",children:[(0,r.jsx)(x.O,{className:"h-48 w-full"}),(0,r.jsxs)("div",{className:"p-4 space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)(x.O,{className:"h-4 w-24"}),(0,r.jsx)(x.O,{className:"h-4 w-12"})]}),(0,r.jsx)(x.O,{className:"h-3 w-16"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,r.jsx)(x.O,{className:"h-6 w-6 rounded-full"}),(0,r.jsx)(x.O,{className:"h-3 w-20"})]})]})]})},e))}):(0,r.jsx)("div",{className:"columns-2 md:columns-3 lg:columns-4 gap-6 space-y-6",children:v.map(e=>{var t,s,a;return(0,r.jsx)(l.Z,{listing:{title:e.title,price:"$".concat(e.price),image:e.image_url,condition:e.condition,seller:{name:(null===(t=e.profiles)||void 0===t?void 0:t.full_name)||"Anonymous",avatar:(null===(s=e.profiles)||void 0===s?void 0:s.avatar_url)||"https://api.dicebear.com/7.x/initials/svg?seed=".concat(null===(a=e.profiles)||void 0===a?void 0:a.full_name)}}},e.id)})})]})]})}},3930:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var r=s(7437),a=s(2593),n=s(8997);function l(e){let{listing:t}=e;return(0,r.jsxs)(a.default,{className:"p-0 group cursor-pointer mb-6 break-inside-avoid",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("img",{src:t.image,alt:t.title,className:"w-full aspect-[4/5] object-cover rounded-t-2xl"}),(0,r.jsx)("button",{className:"absolute top-3 right-3 p-2 bg-white/20 backdrop-blur-md rounded-full text-white hover:bg-primary hover:text-white transition-colors",children:(0,r.jsx)(n.Z,{size:18})}),(0,r.jsx)("div",{className:"absolute bottom-3 left-3",children:(0,r.jsx)("span",{className:"px-2 py-1 bg-black/60 backdrop-blur-md text-white text-xs font-bold rounded-md",children:t.condition})})]}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,r.jsx)("h3",{className:"font-bold text-text-main line-clamp-2 flex-1 mr-2",children:t.title}),(0,r.jsx)("span",{className:"font-bold text-primary text-lg",children:t.price})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-white/10",children:[(0,r.jsx)("div",{className:"w-6 h-6 rounded-full bg-gray-200 overflow-hidden",children:(0,r.jsx)("img",{src:t.seller.avatar,alt:t.seller.name,className:"w-full h-full object-cover"})}),(0,r.jsx)("span",{className:"text-xs text-text-secondary",children:t.seller.name})]})]})]})}},5243:function(e,t,s){"use strict";s.d(t,{default:function(){return n}});var r=s(7437),a=s(521);function n(){return(0,r.jsxs)("div",{className:"fixed inset-0 -z-10 overflow-hidden pointer-events-none",children:[(0,r.jsx)(a.E.div,{animate:{x:[0,100,0],y:[0,-50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"easeInOut"},className:"absolute top-[-10%] left-[-10%] w-[50vw] h-[50vw] bg-primary/10 rounded-full blur-[100px]"}),(0,r.jsx)(a.E.div,{animate:{x:[0,-100,0],y:[0,100,0],scale:[1,1.5,1]},transition:{duration:25,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute top-[20%] right-[-10%] w-[40vw] h-[40vw] bg-secondary/10 rounded-full blur-[120px]"}),(0,r.jsx)(a.E.div,{animate:{x:[0,50,0],y:[0,50,0],scale:[1,1.1,1]},transition:{duration:15,repeat:1/0,ease:"easeInOut",delay:5},className:"absolute bottom-[-10%] left-[20%] w-[60vw] h-[60vw] bg-primary-light/20 rounded-full blur-[100px]"})]})}},2593:function(e,t,s){"use strict";s.d(t,{default:function(){return n}});var r=s(7437),a=s(521);function n(e){let{children:t,className:s,hoverEffect:n=!0,...l}=e;return(0,r.jsx)(a.E.div,{whileHover:n?{y:-5,scale:1.01}:{},transition:{type:"spring",stiffness:300,damping:20},className:"\n        relative overflow-hidden\n        bg-surface/70 backdrop-blur-md\n        border border-white/20\n        shadow-glass\n        rounded-2xl\n        ".concat(s||"","\n      "),...l,children:(0,r.jsx)("div",{className:"relative z-10",children:t})})}},1235:function(e,t,s){"use strict";s.d(t,{O:function(){return n}});var r=s(7437),a=s(3448);function n(e){let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-white/10",t),...s})}},5526:function(e,t,s){"use strict";s.d(t,{O:function(){return r}});let r=(0,s(2577).createBrowserClient)("https://agakkvodhqinapxsqfou.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFnYWtrdm9kaHFpbmFweHNxZm91Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ3ODU1NDYsImV4cCI6MjA4MDM2MTU0Nn0.n5bhFCiK8bOwsUnZyjsLwxE_kv0NV4DScT6tHFAAFH8")},3448:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var r=s(1994),a=s(3335);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.m6)((0,r.W)(t))}}},function(e){e.O(0,[521,577,137,648,971,117,744],function(){return e(e.s=8669)}),_N_E=e.O()}]);